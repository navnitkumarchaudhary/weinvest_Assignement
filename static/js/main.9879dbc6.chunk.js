(this.webpackJsonptrivia_game_assignment=this.webpackJsonptrivia_game_assignment||[]).push([[0],{24:function(e,t,n){e.exports=n(54)},29:function(e,t,n){},30:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(2),o=n.n(s),i=(n(29),n(21)),u=n(17),c=n(18),l=n(22),m=n(23),d=(n(30),n(19)),w=n.n(d),h=n(4),p=function(e){return r.a.createElement("div",{className:"loading-icon-wrapper"},r.a.createElement("div",{className:"loading-icon"}))},v=function(e){return r.a.createElement("h2",{className:"question"},e.question)},E=function(e){return r.a.createElement("div",{className:"questionCount"},"Question ",r.a.createElement("span",null,e.counter)," of ",r.a.createElement("span",null,e.totalquestion))},f=function(e){return r.a.createElement("li",{className:"answerOption"},r.a.createElement("input",{type:"radio",className:"radioCustomButton",name:"radioGroup",checked:e.answerContent===e.answer,id:e.answerContent,value:e.answerContent,disabled:e.answer,onChange:e.onAnswerSelected}),r.a.createElement("label",{className:"radioCustomLabel",htmlFor:e.answerContent},e.answerContent))},g=function(e){return r.a.createElement("div",{key:e.questionId},r.a.createElement(E,{counter:e.questionId,totalquestion:e.questionTotal}),r.a.createElement(v,{question:e.question}),r.a.createElement("ul",{className:"answerOptions"},e.answerOptions.map((function(t,n){return r.a.createElement(f,{key:n,answerContent:t,answer:e.answer,questionId:e.questionId,onAnswerSelected:e.onAnswerSelected})}))))},q=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,"Q. No. ",e.questionno),r.a.createElement("td",null,e.answer),r.a.createElement("td",null,e.answertype.toString()))},S=null,b=function(e){Object(m.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={counter:0,questionId:1,question:"",answer:"",answerOptions:[],questionList:[],showResult:!1,isLoading:!1,isError:!1,countDownTime:10},e.getAnswerlist=function(e){var t=[];return e&&(t=[].concat(Object(i.a)(e.incorrect_answers),[e.correct_answer])),t},e.onAnswerSelected=function(t){e.setState({answer:t.currentTarget.value});var n=e.state,a=n.questionList,r=n.questionId,s=n.counter;t.currentTarget.value&&(console.log("submitted answer is",t.currentTarget.value,"which is",e.checkGivenAnswertype(a[s],t.currentTarget.value)),e.props.onsubmitanswer(r,t.currentTarget.value,e.checkGivenAnswertype(a[s],t.currentTarget.value),e.getIndexOfSelectedOption(t.currentTarget.value))),e.checkNextQestionCondition()},e.getIndexOfSelectedOption=function(t){var n=e.state.answerOptions;if(n)for(var a=0;a<n.length;a++)if(n[a]===t)return a;return 0},e.checkGivenAnswertype=function(e,t){return t===e.correct_answer},e.checkNextQestionCondition=function(){var t=e.state,n=t.questionList;t.questionId<n.length?(S&&clearInterval(S),setTimeout((function(){return e.setNextQuestion()}),300)):setTimeout((function(){return e.setState({showResult:!0,countDownTime:0})}),300)},e.setNextQuestion=function(){var t=e.state,n=t.questionList,a=t.counter,r=t.questionId;a+=1,r+=1,n&&n.length>=r&&(e.setState({counter:a,questionId:r,question:n[a].question,answerOptions:e.getAnswerlist(n[a]),answer:"",countDownTime:10}),e.calculateCountDownTimer())},e.calculateCountDownTimer=function(){S=null,S=setInterval((function(){return e.countDownTimer()}),1e3)},e.countDownTimer=function(){var t=e.state.countDownTime;(t=Math.floor(t-1))>0&&e.setState({countDownTime:t}),t<=0&&(clearInterval(S),S=null,e.checkNextQestionCondition())},e.renderQuiz=function(){return r.a.createElement(g,{answer:e.state.answer,answerOptions:e.state.answerOptions,questionId:e.state.questionId,question:e.state.question,questionTotal:e.state.questionList.length,onAnswerSelected:e.onAnswerSelected})},e.renderResult=function(){var t=e.props.questionansList,n=null,a=0,s=0,o=0,i=0;if(t&&t.length>0){for(var u=0;u<t.length;u++)switch(t[u].answerIndex){case 0:a+=1;break;case 1:s+=1;break;case 2:o+=1;break;case 3:i+=1}if((a===t.length||s===t.length||o===t.length||i===t.length)&&t.length===e.state.questionList.length)return r.a.createElement("div",null,r.a.createElement("h2",null,"Your Score"),r.a.createElement("br",null),r.a.createElement("h3",null,"Your have submitted same answer to each questions. So this will not be accpetable. "));n=r.a.createElement("div",null,r.a.createElement("h2",null,"Your Score"),r.a.createElement("table",null,r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement(q,{key:t,questionno:e.id,answer:e.answer,answertype:e.answertype})})))))}else n=r.a.createElement("div",null,r.a.createElement("h2",null,"Your Score"),r.a.createElement("br",null),r.a.createElement("h3",null,"Your have scored 0."));return n},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),w.a.get("https://opentdb.com/api.php?amount=10&category=9&difficulty=easy&type=multiple").then((function(e){return e.data})).then((function(t){e.setState({questionList:t.results,isLoading:!1,isError:!1,question:t.results[0].question,answerOptions:e.getAnswerlist(t.results[0])}),e.calculateCountDownTimer()})).catch((function(t){console.error(t),e.setState({questionList:[],isLoading:!1,isError:!0,question:"",answerOptions:[]})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.showResult,a=e.isError,s=e.countDownTime,o=null,i=null;return t?o=r.a.createElement(p,null):a?o=r.a.createElement("div",null,r.a.createElement("span",null,"Something went wrong. Please check your internet connection.")):(i="Timer : ".concat(s," Sec"),o=r.a.createElement("div",null,n?this.renderResult():this.renderQuiz())),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("div",null,r.a.createElement("span",{className:"header"},"Trivia Game"),r.a.createElement("span",{className:"timer"},i))),r.a.createElement("div",{className:"container"},o))}}]),n}(a.Component),y=Object(h.b)((function(e){return{questionansList:e.questionansList}}),(function(e){return{onsubmitanswer:function(t,n,a,r){e(function(e,t,n,a){return{type:"SAVE_QUESTIONS_ANSWER",questionId:e,option:t,anstype:n,answerIndex:a}}(t,n,a,r))}}}))(b);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=n(3),I={questionansList:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;if("SAVE_QUESTIONS_ANSWER"===t.type){var n={id:t.questionId,answer:t.option,answertype:t.anstype,answerIndex:t.answerIndex},a=e.questionansList.concat(n);return Object.assign({},e,{questionansList:a})}return e},N=Object(T.b)(O);o.a.render(r.a.createElement(h.a,{store:N}," ",r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.9879dbc6.chunk.js.map